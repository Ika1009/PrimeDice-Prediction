import requests
import json


def request_prediction(latest_number):
    """

    Args:
        latest_number (float): Latest number generated by target system.

    Returns:
        prediction: None if enough historical data isn't available.
    """

    # Define the URL of your Flask API
    api_url = "http://localhost:5000/predict"  # Adjust the URL if your API is hosted elsewhere

    # Set the headers to specify that you are sending JSON data
    headers = {"Content-Type": "application/json"}

    data = {"number": latest_number}
    data_json = json.dumps(data)
    response = requests.post(api_url, data=data_json, headers=headers)

    return response


if __name__ == "__main__":
    for i in range(100):
        response = request_prediction(i)

        print("Response JSON Data:", response.json())
